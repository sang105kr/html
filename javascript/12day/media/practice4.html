<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    ul{list-style-type: none;padding-left: 0px;}
  </style>
</head>
<body>
  <h3>오디오 재생</h3>
  <p>듣고 싶은 곡은 선택하고 시작 버튼을 누르면 연속하여 자동 연주합니다.</p>
  <hr>
  <audio id='audio' controls>
    웹브라우저가 audio태그를 지원하지 않습니다.
  </audio>
  <!-- <form action="#"> -->
    <ul>
      <li><input type="checkbox" name="song" id="" value="생일축하2.mp3">생일축하곡1</li>
      <li><input type="checkbox" name="song" id="" value="생일축하.mp3">생일축하곡2</li>
      <li><input type="checkbox" name="song" id="" value="생일축하2.mp3">생일축하곡3</li>
      <li><input type="checkbox" name="song" id="" value="생일축하.mp3">생일축하곡4</li>
      <li><button id="btn-play">연주시작</button></li>
    </ul>
  <!-- </form> -->
  <script>
    const $audio = document.getElementById('audio');
    const $playBtn = document.getElementById('btn-play');

    $playBtn.addEventListener("click",function(evt){

      const $inputs = document.querySelectorAll('input:checked');

      let playIndex = -1;

      nextPlay();
      function nextPlay(){
        if(++playIndex == $inputs.length) return;        
        $audio.src = $inputs[playIndex].value;
        $audio.play(); 
        $audio.addEventListener('ended',nextPlay,false);
      }      
    },false);
  </script>
</body>
</html>